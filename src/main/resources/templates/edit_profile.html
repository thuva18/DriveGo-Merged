<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile - DriveGo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
    <link rel="stylesheet" th:href="@{/css/auth-theme.css}" href="/css/auth-theme.css"/>
</head>
<body class="drivego-body">
<div class="drivego-bubbles">
    <span class="drivego-bubble"></span>
    <span class="drivego-bubble secondary"></span>
    <span class="drivego-bubble tertiary"></span>
</div>
<nav class="navbar navbar-expand-lg navbar-dark drivego-navbar">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/index}"><i class="fa-solid fa-car-side"></i> DriveGo</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#editProfileNav" aria-controls="editProfileNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="editProfileNav">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" th:href="@{/profile}"><i class="fa-solid fa-user"></i> Profile</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" th:href="@{/profile/edit}"><i class="fa-solid fa-pen"></i> Edit Profile</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/logout}"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a></li>
            </ul>
        </div>
    </div>
</nav>
<div class="page-wrapper fade-in">
    <div class="row justify-content-center">
        <div class="col-lg-7">
            <div class="glass-card p-0">
                <div class="glass-card-header bg-transparent px-5 pt-5">
                    <i class="fa-solid fa-id-card"></i>
                    <div class="glass-card-title">Edit Profile</div>
                </div>
                <div class="glass-card-body px-5 pb-5">
                    <form th:action="@{/profile/update}" th:object="${userDto}" method="post" class="auth-form">
                        <div class="text-center mb-4">
                            <img src="/images/avatar-placeholder.png" class="profile-avatar mb-3" alt="DriveGo default avatar"/>
                            <small class="body-meta d-block">Profile photos are fixed for DriveGo accounts.</small>
                        </div>
                        <div class="mb-3 auth-input-group">
                            <label class="form-label" for="firstName"><i class="fa-solid fa-user me-2"></i>First Name</label>
                            <span class="auth-input-icon"><i class="fa-solid fa-id-badge"></i></span>
                            <input type="text" id="firstName" th:field="*{firstName}" class="form-control auth-input" placeholder="Enter first name" autocomplete="given-name"/>
                            <p th:errors="*{firstName}" class="text-danger mt-2 mb-0"></p>
                        </div>
                        <div class="mb-3 auth-input-group">
                            <label class="form-label" for="lastName"><i class="fa-solid fa-user me-2"></i>Last Name</label>
                            <span class="auth-input-icon"><i class="fa-solid fa-id-card"></i></span>
                            <input type="text" id="lastName" th:field="*{lastName}" class="form-control auth-input" placeholder="Enter last name" autocomplete="family-name"/>
                            <p th:errors="*{lastName}" class="text-danger mt-2 mb-0"></p>
                        </div>
                        <div class="mb-3 auth-input-group">
                            <label class="form-label" for="email"><i class="fa-solid fa-envelope me-2"></i>Email</label>
                            <span class="auth-input-icon"><i class="fa-solid fa-at"></i></span>
                            <input type="email" id="email" th:field="*{email}" class="form-control auth-input" placeholder="Enter email" autocomplete="email"/>
                            <p th:errors="*{email}" class="text-danger mt-2 mb-0"></p>
                        </div>
                        <div class="mb-4 auth-input-group">
                            <label class="form-label" for="password"><i class="fa-solid fa-lock me-2"></i>New Password <span class="body-meta">(optional)</span></label>
                            <span class="auth-input-icon"><i class="fa-solid fa-key"></i></span>
                            <input type="password" id="password" th:field="*{password}" class="form-control auth-input" placeholder="Set a new password" autocomplete="new-password"/>
                            <p th:errors="*{password}" class="text-danger mt-2 mb-0"></p>
                        </div>
                        <div class="d-flex flex-column flex-sm-row justify-content-between align-items-stretch gap-3">
                            <a class="hero-cta-secondary text-center" th:href="@{/profile}"><i class="fa-solid fa-arrow-left me-2"></i>Cancel</a>
                            <button type="submit" class="btn drivego-btn-primary w-100 w-sm-auto"><i class="fa-solid fa-floppy-disk me-2"></i>Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
